# setup.sh - Setup Script fÃ¼r das VHF-LLM Training
#!/bin/bash

echo "ðŸ¥ VHF-LLM Training Setup"
echo "========================="

# Python Version prÃ¼fen
python_version=$(python3 --version 2>&1 | grep -Po '(?<=Python )\d+\.\d+')
echo "ðŸ Python Version: $python_version"

if [[ $(echo "$python_version < 3.8" | bc -l) -eq 1 ]]; then
    echo "âŒ Python 3.8+ erforderlich"
    exit 1
fi

# Virtual Environment erstellen
echo "ðŸ“¦ Erstelle Virtual Environment..."
python3 -m venv vhf_training_env
source vhf_training_env/bin/activate

# Requirements installieren
echo "â¬‡ï¸  Installiere Requirements..."
pip install --upgrade pip
pip install -r requirements.txt

# PyTorch GPU Support prÃ¼fen
echo "ðŸŽ® PrÃ¼fe GPU Support..."
python3 -c "import torch; print(f'CUDA verfÃ¼gbar: {torch.cuda.is_available()}')"
if python3 -c "import torch; exit(0 if torch.cuda.is_available() else 1)"; then
    echo "âœ… GPU Support verfÃ¼gbar"
else
    echo "âš ï¸  Nur CPU Training mÃ¶glich"
fi

echo ""
echo "ðŸš€ Setup abgeschlossen!"
echo ""
echo "Verwendung:"
echo "1. Aktiviere Environment: source vhf_training_env/bin/activate"
echo "2. Einfaches Training:    python vhf_training_simple.py"
echo "3. Erweitert mit LoRA:    python vhf_training_advanced.py --use_lora"
echo ""
echo "Optionen fÃ¼r erweiterte Version:"
echo "--model_name microsoft/DialoGPT-medium  # Anderes Basis-Modell"
echo "--epochs 5                              # Mehr Epochen"
echo "--batch_size 2                          # Kleinere Batches fÃ¼r weniger RAM"
echo "--use_wandb                            # Logging mit Weights & Biases"
echo ""